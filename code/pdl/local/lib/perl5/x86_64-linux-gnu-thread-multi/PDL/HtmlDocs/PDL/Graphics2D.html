<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>PDL::Graphics2D - An object oriented interface to PDL graphics</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a></li>
  <li><a href="#CONSTRUCTORS">CONSTRUCTORS</a>
    <ul>
      <li><a href="#new">new</a></li>
    </ul>
  </li>
  <li><a href="#FUNCTIONS">FUNCTIONS</a>
    <ul>
      <li><a href="#imag2d">imag2d</a></li>
      <li><a href="#imag2d_update">imag2d_update</a></li>
      <li><a href="#twiddle">twiddle</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>PDL::Graphics2D - An object oriented interface to PDL graphics</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code> use PDL::Graphics2D;
 $win = PDL::Graphics2D-&gt;new(&lt;Interface&gt;, &lt;Options&gt;);

 $w = imag2d( $image, &#39;Title Here&#39;, ... );</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>This is an umbrella class allowing for a simple interface to all plotting routines in PDL. On its own it does not do any work it merely passes information to the appropriate class. Ideally this should probably offer a uniform interface to a variety of packages.</p>

<p>This requires a lot more work before it is useful I feel, but it can be used already.</p>

<h1 id="CONSTRUCTORS">CONSTRUCTORS</h1>

<h2 id="new">new</h2>

<p>Create a 2-D graphics object with the requested interface type</p>

<h1 id="FUNCTIONS">FUNCTIONS</h1>

<h2 id="imag2d">imag2d</h2>

<p>Display a 2-D image in a figure window</p>

<p>imag2d() creates a plain FreeGLUT OpenGL window and displays the input image with 1:1 aspect ratio for pixels. The window resize is constrained to the actual ratio of the image dimensions. The initial display size is currently a 200x200 window to prevent things from being too small by default.</p>

<p>The image to display can have dimensions ($c,$M,$N) where for $c==4 the display is in GL_RGBA, for $c==3 the display is GL_RGB, for $c==2 the display is GL_LUMINANCE_ALPHA, and for $c==1 or for for dimensions ($M,$N) then the display is GL_LUMINANCE.</p>

<p>This routine does not yet broadcast but multiple images may be viewed at the same time in separate windows by multiple calls to imag2d(). TriD graphics visualization windows and the imag2d() windows may be created and used independently.</p>

<p>NOTE: If you are twiddling a TriD window, the imag2d() windows are active as well. If you call twiddle() the sub, only the imag2d() windows will update correctly.</p>

<pre><code>  $window_id = imag2d($image, $name, $zoom, $x_off, $y_off);
    
    creates a new image figure window from the input ndarray
    with the given title, zoom factor, and position (if possible)
    
    $window_id - may be used to refer to the figure window
    
    $image - 2D image ndarray with at least 2 or 3 dimensions
             e.g. [M,N], [1,M,N], [2,M,N], [3,M,N], [4,M,N]
    
    $name - the name to use for the figure window (optional)
    
    $zoom - desired (float) pixel zoom factor     (optional)
    
    ($x_off, $y_off) - desired window pixel position (optional)
                       with (0,0) as the top left pixel of the
                       display</code></pre>

<pre><code>  use PDL::Graphics2D;     # imports imag2d() and twiddle()

  $x = sequence(64,48,3);  # make test RGB image
  $x = $x-&gt;mv(2,0);        # color must be dim(0) with size [0..4]
  $x /= $x-&gt;max;           # pixel values in [0.0,1.0]
  $x = sin(10*$x);
  $w1 = imag2d($x);        # with parens...
  $w2 = imag2d $x-&gt;sqrt;   # or without
  $w3 = imag2d $x**2;</code></pre>

<h2 id="imag2d_update">imag2d_update</h2>

<p>Update an existing imag2d window with new ndarray data</p>

<pre><code>  $image = random(3,64,48)/2 + 0.25;  # random pixel image
  $win = imag2d($image);              # create original image display

  imag2d_update($win, $image-&gt;sequence/$image-&gt;nelem);  # update data</code></pre>

<p><code>imag2d_update</code> allows one to update an <code>imag2d</code> display window by replacing the associated image data with new contents. The new image data must be the same type and shape as the previous.</p>

<p>Eventually, we would like to implement this via some sort of dataflow that would be transparent to the user.</p>

<h2 id="twiddle">twiddle</h2>

<p>Enable GUI interaction with a FreeGLUT display window. With an argument, it sets the default value for the auto-twiddling state. <code> 0 </code> will disable the automatic twiddling and <code> 1 </code>, or true, will enable twiddling.</p>

<pre><code>  twiddle();     # same as twiddle(undef)

    Runs the FreeGLUT event loop so window GUI operations
    such as resize, expose, mouse click,.. work

  twiddle(0);  # disables twiddle looping for next twiddle() call
  twiddle(1);  # re-enables default twiddle looping for next twiddle() call
    </code></pre>


</body>

</html>


